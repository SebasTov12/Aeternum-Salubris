<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aeternum Salubris - Sistema de Seguimiento</title>
    <link rel="icon" type="image/png" href="Aesali.png">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="api.js"></script>
</head>
<body>
    <!-- Pantalla de Login/Signup -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-card">
                <button id="themeToggleLogin" class="theme-toggle" style="position: absolute; top: 1.5rem; right: 1.5rem; z-index: 10;" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                <div class="logo-section">
                    <div class="login-logo">
                        <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img-login">
                    </div>
                    <h1>Aeternum Salubris</h1>
                    <p>Sistema de Seguimiento y Trazabilidad</p>
                </div>
                
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Iniciar Sesi√≥n</button>
                    <button class="auth-tab" data-tab="signup">Registrarse</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <div class="form-group">
                        <label for="userType">Tipo de Usuario</label>
                        <select id="userType" required>
                            <option value="">Seleccione...</option>
                            <option value="comercio">Comercio</option>
                            <option value="inspector">Inspector Sanitario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electr√≥nico</label>
                        <input type="email" id="email" required placeholder="correo@ejemplo.com">
                    </div>
                    <div class="form-group">
                        <label for="password">Contrase√±a</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            <button type="button" class="toggle-password" aria-label="Mostrar contrase√±a">üëÅÔ∏è</button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" id="rememberMe">
                            <span>Recordar sesi√≥n</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Iniciar Sesi√≥n</button>
                    <div class="demo-credentials">
                        <p class="demo-title"><strong>Credenciales de prueba:</strong></p>
                        <div class="demo-cred-item">
                            <span class="demo-type">Comercio:</span>
                            <span class="demo-email">comercio@demo.com</span>
                            <span class="demo-password">demo123</span>
                            <button type="button" class="btn-copy-cred" data-email="comercio@demo.com" data-password="demo123">Copiar</button>
                        </div>
                        <div class="demo-cred-item">
                            <span class="demo-type">Inspector:</span>
                            <span class="demo-email">inspector@demo.com</span>
                            <span class="demo-password">demo123</span>
                            <button type="button" class="btn-copy-cred" data-email="inspector@demo.com" data-password="demo123">Copiar</button>
                        </div>
                    </div>
                </form>

                <!-- Signup Form -->
                <form id="signupForm" class="auth-form">
                    <div class="form-group">
                        <label for="signupUserType">Tipo de Usuario</label>
                        <select id="signupUserType" required>
                            <option value="">Seleccione...</option>
                            <option value="comercio">Comercio</option>
                            <option value="inspector">Inspector Sanitario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="signupNombre">Nombre Completo</label>
                        <input type="text" id="signupNombre" required placeholder="Nombre del comercio o inspector">
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Correo Electr√≥nico</label>
                        <input type="email" id="signupEmail" required placeholder="correo@ejemplo.com">
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Contrase√±a</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="signupPassword" required placeholder="M√≠nimo 6 caracteres" minlength="6">
                            <button type="button" class="toggle-password" aria-label="Mostrar contrase√±a">üëÅÔ∏è</button>
                        </div>
                        <div class="password-strength" id="passwordStrength"></div>
                    </div>
                    <div class="form-group">
                        <label for="signupConfirmPassword">Confirmar Contrase√±a</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="signupConfirmPassword" required placeholder="Repite la contrase√±a">
                            <button type="button" class="toggle-password" aria-label="Mostrar contrase√±a">üëÅÔ∏è</button>
                        </div>
                    </div>
                    <div class="form-group" id="signupTelefonoGroup" style="display: none;">
                        <label for="signupTelefono">Tel√©fono de Contacto</label>
                        <input type="tel" id="signupTelefono" placeholder="+57 300 123 4567">
                    </div>
                    <div class="form-group" id="signupDireccionGroup" style="display: none;">
                        <label for="signupDireccion">Direcci√≥n</label>
                        <input type="text" id="signupDireccion" placeholder="Direcci√≥n del comercio">
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" id="acceptTerms" required>
                            <span>Acepto los t√©rminos y condiciones</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Crear Cuenta</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Dashboard Comercio -->
    <div id="comercioDashboard" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Mi Comercio</h1>
                <div class="header-actions">
                    <button id="themeToggle" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button id="notificationsBtn" class="btn-icon" title="Notificaciones">
                        <span id="notificationCount" class="notification-badge">0</span>
                        <span class="icon-text">Notificaciones</span>
                    </button>
                    <button id="profileBtnComercio" class="btn-icon" title="Perfil"><span class="icon-text">Perfil</span></button>
                    <button id="logoutBtn" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <!-- Widgets de Resumen -->
                <div id="comercioWidgets" class="dashboard-widgets">
                    <div class="widgets-grid">
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">üìã</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Total Activos</span>
                                <span class="kpi-value" id="kpiTotalActivos">0</span>
                                <span class="kpi-subtitle">Tr√°mites en proceso</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">‚è≥</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Pendientes</span>
                                <span class="kpi-value" id="kpiPendientes">0</span>
                                <span class="kpi-subtitle">Esperando revisi√≥n</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">‚úÖ</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Completados</span>
                                <span class="kpi-value" id="kpiCompletados">0</span>
                                <span class="kpi-subtitle">Este mes</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">‚è±Ô∏è</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Tiempo Promedio</span>
                                <span class="kpi-value" id="kpiTiempoPromedio">0</span>
                                <span class="kpi-subtitle">D√≠as</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Widget de Progreso y Notificaciones -->
                    <div class="widgets-secondary">
                        <div class="widget-card widget-progress">
                            <h3>üìä Progreso del Tr√°mite M√°s Reciente</h3>
                            <div id="widgetProgresoComercio">
                                <p class="widget-empty">No hay tr√°mites activos</p>
                            </div>
                        </div>
                        <div class="widget-card widget-notifications-preview">
                            <div class="widget-header">
                                <h3>üîî Notificaciones Recientes</h3>
                                <button class="btn-link" onclick="AppState.navigateToSection('notificationsSectionComercio')">Ver todas</button>
                            </div>
                            <div id="widgetNotificacionesComercio">
                                <p class="widget-empty">No hay notificaciones</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Barra de b√∫squeda y filtros -->
                <div class="search-filters-bar">
                    <div class="search-box">
                        <input type="text" id="searchInputComercio" placeholder="Buscar por nombre, ID, direcci√≥n..." />
                    </div>
                    <div class="filter-controls">
                        <select id="sortByComercio">
                            <option value="fecha-desc">M√°s reciente</option>
                            <option value="fecha-asc">M√°s antiguo</option>
                            <option value="estado">Por estado</option>
                            <option value="nombre">Por nombre</option>
                        </select>
                        <select id="filterEstadoComercio">
                            <option value="all">Todos los estados</option>
                            <option value="pendiente">Pendiente</option>
                            <option value="en-proceso">En Proceso</option>
                            <option value="completado">Completado</option>
                            <option value="rechazado">Rechazado</option>
                        </select>
                    </div>
                </div>

                <div class="page-header">
                    <h2>Seguimiento de Tr√°mites</h2>
                    <button id="nuevoTramiteBtn" class="btn btn-primary">Nuevo Tr√°mite</button>
                </div>

                <!-- Modal Nuevo Tr√°mite -->
                <div id="nuevoTramiteModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Nuevo Tr√°mite de Concepto Sanitario</h2>
                        <form id="nuevoTramiteForm">
                            <div class="form-group">
                                <label for="nombreComercio">Nombre del Comercio</label>
                                <input type="text" id="nombreComercio" required>
                            </div>
                            <div class="form-group">
                                <label for="direccion">Direcci√≥n</label>
                                <input type="text" id="direccion" required>
                            </div>
                            <div class="form-group">
                                <label for="tipoComercio">Tipo de Comercio</label>
                                <select id="tipoComercio" required>
                                    <option value="">Seleccione...</option>
                                    <option value="restaurante">Restaurante</option>
                                    <option value="panaderia">Panader√≠a</option>
                                    <option value="carniceria">Carnicer√≠a</option>
                                    <option value="supermercado">Supermercado</option>
                                    <option value="cafeteria">Cafeter√≠a</option>
                                    <option value="tienda">Tienda de Alimentos</option>
                                    <option value="peluqueria">Peluquer√≠a/Barber√≠a</option>
                                    <option value="gimnasio">Gimnasio</option>
                                    <option value="spa">Spa</option>
                                    <option value="otro">Otro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="telefono">Tel√©fono de Contacto</label>
                                <input type="tel" id="telefono" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Solicitar Tr√°mite</button>
                        </form>
                    </div>
                </div>

                <!-- Lista de Tr√°mites -->
                <div id="tramitesList" class="tramites-grid">
                    <!-- Los tr√°mites se cargar√°n din√°micamente -->
                </div>
                <div id="paginationComercio" class="pagination"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Notificaciones Comercio -->
    <div id="notificationsSectionComercio" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Notificaciones</h1>
                <div class="header-actions">
                    <button id="themeToggleNav" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('comercioDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNav" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="notificationsContentComercio"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Perfil Comercio -->
    <div id="profileSectionComercio" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Mi Perfil</h1>
                <div class="header-actions">
                    <button id="themeToggleNav2" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('comercioDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNav2" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="profileContentComercio"></div>
            </div>
        </main>
    </div>


    <!-- Dashboard Inspector -->
    <div id="inspectorDashboard" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Inspector Sanitario</h1>
                <div class="header-actions">
                    <button id="themeToggleInspector" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button id="statsBtn" class="btn-icon" title="Estad√≠sticas"><span class="icon-text">Estad√≠sticas</span></button>
                    <button id="calendarBtn" class="btn-icon" title="Calendario"><span class="icon-text">Calendario</span></button>
                    <button id="notificationsBtnInspector" class="btn-icon" title="Notificaciones">
                        <span id="notificationCountInspector" class="notification-badge">0</span>
                        <span class="icon-text">Notificaciones</span>
                    </button>
                    <button id="profileBtnInspector" class="btn-icon" title="Perfil"><span class="icon-text">Perfil</span></button>
                    <button id="logoutBtnInspector" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <!-- Widgets de Resumen -->
                <div id="inspectorWidgets" class="dashboard-widgets">
                    <div class="widgets-grid">
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">üìã</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Total Asignados</span>
                                <span class="kpi-value" id="kpiTotalAsignados">0</span>
                                <span class="kpi-subtitle">Tr√°mites asignados</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card urgent">
                            <div class="kpi-icon">üö®</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Urgentes</span>
                                <span class="kpi-value" id="kpiUrgentes">0</span>
                                <span class="kpi-subtitle">Requieren atenci√≥n</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">‚úÖ</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Completados Hoy</span>
                                <span class="kpi-value" id="kpiCompletadosHoy">0</span>
                                <span class="kpi-subtitle">Inspecciones</span>
                            </div>
                        </div>
                        <div class="widget-kpi-card">
                            <div class="kpi-icon">‚è±Ô∏è</div>
                            <div class="kpi-content">
                                <span class="kpi-label">Tiempo Promedio</span>
                                <span class="kpi-value" id="kpiTiempoPromedioInspector">0</span>
                                <span class="kpi-subtitle">D√≠as</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Widget de Tr√°mites Urgentes y Actividad -->
                    <div class="widgets-secondary">
                        <div class="widget-card widget-urgent">
                            <h3>üö® Tr√°mites Urgentes</h3>
                            <div id="widgetUrgentesInspector">
                                <p class="widget-empty">No hay tr√°mites urgentes</p>
                            </div>
                        </div>
                        <div class="widget-card widget-activity">
                            <div class="widget-header">
                                <h3>üìÖ Actividad del D√≠a</h3>
                                <button class="btn-link" onclick="AppState.navigateToSection('calendarSectionInspector')">Ver calendario</button>
                            </div>
                            <div id="widgetActividadInspector">
                                <p class="widget-empty">No hay actividades programadas</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Barra de b√∫squeda y filtros -->
                <div class="search-filters-bar">
                    <div class="search-box">
                        <input type="text" id="searchInputInspector" placeholder="Buscar por nombre, ID, direcci√≥n..." />
                    </div>
                    <div class="filter-controls">
                        <select id="sortByInspector">
                            <option value="fecha-desc">M√°s reciente</option>
                            <option value="fecha-asc">M√°s antiguo</option>
                            <option value="estado">Por estado</option>
                            <option value="nombre">Por nombre</option>
                        </select>
                        <select id="filterEstadoInspector">
                            <option value="all">Todos los estados</option>
                            <option value="pendiente">Pendiente</option>
                            <option value="en-proceso">En Proceso</option>
                            <option value="completado">Completado</option>
                            <option value="rechazado">Rechazado</option>
                        </select>
                        <input type="date" id="filterFechaInspector" />
                    </div>
                </div>

                <div class="page-header">
                    <h2>Tr√°mites Asignados</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">Todos</button>
                        <button class="filter-tab" data-filter="pendiente">Pendientes</button>
                        <button class="filter-tab" data-filter="en-proceso">En Proceso</button>
                        <button class="filter-tab" data-filter="completado">Completados</button>
                    </div>
                </div>

                <!-- Lista de Tr√°mites Inspector -->
                <div id="inspectorTramitesList" class="tramites-grid">
                    <!-- Los tr√°mites se cargar√°n din√°micamente -->
                </div>
                <div id="paginationInspector" class="pagination"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Estad√≠sticas Inspector -->
    <div id="statsSectionInspector" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Estad√≠sticas y Reportes</h1>
                <div class="header-actions">
                    <button id="themeToggleStats" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('inspectorDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNavInspector" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="statsContentInspector"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Calendario Inspector -->
    <div id="calendarSectionInspector" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Calendario de Visitas</h1>
                <div class="header-actions">
                    <button id="themeToggleCalendar" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('inspectorDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNavInspector2" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="calendarContentInspector"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Notificaciones Inspector -->
    <div id="notificationsSectionInspector" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Notificaciones</h1>
                <div class="header-actions">
                    <button id="themeToggleNotificationsInspector" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('inspectorDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNavInspector3" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="notificationsContentInspector"></div>
            </div>
        </main>
    </div>

    <!-- Secci√≥n Perfil Inspector -->
    <div id="profileSectionInspector" class="screen">
        <header class="header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="Aesali.png" alt="Aeternum Salubris" class="logo-img" />
                </div>
                <h1>Mi Perfil</h1>
                <div class="header-actions">
                    <button id="themeToggleProfileInspector" class="theme-toggle" title="Cambiar tema" aria-label="Cambiar entre tema claro y oscuro">üåô</button>
                    <button onclick="AppState.navigateToSection('inspectorDashboard')" class="btn-icon" title="Volver"><span class="icon-text">Volver</span></button>
                    <button id="logoutBtnNavInspector4" class="btn-icon btn-logout">Salir</button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="container">
                <div id="profileContentInspector"></div>
            </div>
        </main>
    </div>


    <!-- Modal Detalle Tr√°mite -->
    <div id="tramiteDetailModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close">&times;</span>
            <div id="tramiteDetailContent">
                <!-- El contenido se cargar√° din√°micamente -->
            </div>
        </div>
    </div>

    <!-- Modal Notificaciones -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Notificaciones</h2>
            <div id="notificationsList" class="notifications-list">
                <!-- Las notificaciones se cargar√°n din√°micamente -->
            </div>
        </div>
    </div>


    <!-- Modal Estad√≠sticas -->
    <div id="statsModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close">&times;</span>
            <h2>Estad√≠sticas y Reportes</h2>
            <div id="statsContent">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Tr√°mites</h3>
                        <p id="statTotal" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Pendientes</h3>
                        <p id="statPendientes" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>En Proceso</h3>
                        <p id="statEnProceso" class="stat-number">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Completados</h3>
                        <p id="statCompletados" class="stat-number">0</p>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="estadosChart"></canvas>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="AppState.exportarReporte()">Exportar Reporte</button>
                    <button class="btn btn-secondary" onclick="AppState.imprimirReporte()">Imprimir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Calendario -->
    <div id="calendarModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close">&times;</span>
            <h2>Calendario de Visitas</h2>
            <div id="calendarContent">
                <div class="calendar-header">
                    <button id="prevMonth" class="btn btn-secondary">‚Üê</button>
                    <h3 id="currentMonth"></h3>
                    <button id="nextMonth" class="btn btn-secondary">‚Üí</button>
                </div>
                <div id="calendarGrid" class="calendar-grid"></div>
            </div>
        </div>
    </div>

    <!-- Modal Chat -->
    <div id="chatModal" class="modal">
        <div class="modal-content modal-medium">
            <span class="close">&times;</span>
            <h2>Mensajes</h2>
            <div id="chatMessages" class="chat-messages"></div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Escribe un mensaje..." />
                <button id="sendMessageBtn" class="btn btn-primary">Enviar</button>
            </div>
        </div>
    </div>

    <!-- Modal Documentos -->
    <div id="documentsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Documentos del Tr√°mite</h2>
            <div id="documentsList" class="documents-list"></div>
            <div id="uploadSection" class="upload-section" style="margin-top: 2rem; border-top: 2px solid var(--gray-200); padding-top: 1.5rem; display: none;">
                <h4 style="margin-bottom: 1rem; color: var(--primary-color); font-weight: 600;">Documentos Adicionales</h4>
                <p style="font-size: 0.875rem; color: var(--gray-600); margin-bottom: 1rem;">Puedes subir documentos adicionales que no est√©n en la lista requerida</p>
                <label for="fileUpload" class="file-upload-label">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <span>Seleccionar archivos adicionales</span>
                    <input type="file" id="fileUpload" multiple accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" />
                </label>
                <div id="selectedFiles" style="margin-top: 1rem; font-size: 0.875rem; color: var(--gray-600);"></div>
                <button onclick="AppState.uploadDocument()" class="btn btn-primary" style="margin-top: 1rem;">Subir Documentos Adicionales</button>
            </div>
        </div>
    </div>

    <!-- Modal Mapa -->
    <div id="mapModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close">&times;</span>
            <h2>Ubicaci√≥n del Comercio</h2>
            <div style="margin-bottom: 1rem;">
                <p><strong>üìç Direcci√≥n:</strong> <span id="mapAddress"></span></p>
            </div>
            <div id="mapContainer" class="map-container">
                <div class="map-placeholder">
                    <p>Cargando mapa...</p>
                </div>
            </div>
        </div>
    </div>


    <script src="app.js"></script>
</body>
</html>
